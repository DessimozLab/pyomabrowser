{% extends "seqCV.html" %}
{% load staticfiles %}
{% load oma_extras %}

{% block title %}OMA orthology database: Information for {{ entry.omaid }}{% endblock %}
{% block meta_description %}For {{ entry.omaid }} OMA stores the following information about the gene/protein.{% endblock %}
{% block contentTab %}



<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">General Information</h3>
        </div>
    </div>
    <div class="panel-body">
        <dl class="dl-horizontal test">
            {% if entry.description %}<dt>Description</dt><dd>{{ entry.description }} </dd> {% endif %}
            <dt>Organism</dt>
            <dd><a href="/cgi-bin/gateway.pl?f=DisplayOS&p1={{entry.genome.uniprot_species_code}}">
                {{ entry.genome.uniprot_species_code }} - {{ entry.genome.sciname }}</a>
            </dd>
            <dt>Locus</dt><dd>???</dd>
        </dl>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">IDs and Cross-references</h3>
        </div>
    </div>
    <div class="panel-body">
        <dl class="dl-horizontal test">
            {% for xref in xrefs %}
                <dt>{{ xref.source }}</dt><dd><a href="{{ xref.url }}">{{ xref.xref }}</a></dd>
            {% endfor %}
        </dl>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">Domain Architecture</h3>
        </div>
    </div>
    <div class="panel-body">
        <table class="table">
            <tr class="domain_row" id="{{ entry.omaid }}"><td class="domain_vis"></td></tr>
        </table>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">Gene Ontology</h3>
        </div>
    </div>
    <div class="panel-body">

    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">Protein Sequence</h3>
        </div>
        <div class="pull-right">
            Download:
            <a href="{% url 'entry_fasta' entry.omaid %}"><span class="glyphicon glyphicon-download">Fasta</span></a>
        </div>
    </div>
    <div class="panel-body">
        <pre>{{ entry.sequence|uniprot_seq_repr }}</pre>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading clearfix">
        <div class="pull-left">
            <h3 class="panel-title">Coding Sequence</h3>
        </div>
        <div class="pull-right">
            Download:
            <a href="{% url 'entry_cds' entry.omaid %}"><span class="glyphicon glyphicon-download">Fasta</span></a>
        </div>
    </div>
    <div class="panel-body">
        <pre>{{ entry.cdna|uniprot_seq_repr }}</pre>
    </div>
</div>
<!-- D3 and D3 Tooltip -->
<script src="{% static "js/d3.v3.min.js" %}" type="text/javascript"></script>
<script src="{% static "js/d3.tip.v0.6.3.js" %}" type="text/javascript"></script>
<!-- Domain Visualisation -->
<script src="{% static "js/domains_vis.js" %}" type="text/javascript"></script>
<link href="{% static "css/domains_vis.css" %}" rel="stylesheet" type="text/css" />
<script>
(function () {
  domains.visualize_all(".domain_row", {{ entry.sequence_length }});
})();</script>
{% endblock contentTab %}

{% extends  "core.html" %}

{% block title %}OMA orthology database: Sequence-centric view{% endblock %}

{% block content %}
<script>

$(window).on('resize', function() {
    if($(window).width() < 768) {
        $('#sidebar-container').addClass('col-12');
        $('#sidebar-container').removeClass('col-3');
        $('#sidebar-container').removeClass('full-height');
        /*$('#collapseOne').collapse('hide');*/
    } else {
        $('#sidebar-container').addClass('col-3');
        $('#sidebar-container').addClass('full-height');
        $('#sidebar-container').removeClass('col-12');
        /*$('#collapseOne').collapse('show');*/
    }
})

$(document).on('hidden.bs.collapse', '#accordion', function (e) {
    console.log("hiding");
    $('.menu-tab .active').removeClass('selected');
    $('.menu-tab').removeClass('d-block');
})


$(document).on('shown.bs.collapse', '#accordion', function (e) {
    console.log("showing");
    $('.menu-tab .active').addClass('selected');
    $('.menu-tab').addClass('d-block');
})

$(window).on('load', function () {
    $(window).resize();
});

</script>
<style>


</style>



<div class="container" id="body" style="margin-top: 2em;"> <!-- .container -->


    <div class="row">
        <div class="col-12">

            <div class="card">
                <div class="card-body gene-orthology">

                    <h5 class="card-title">Entry {{ entry.omaid }} {% if entry.canonicalid %} ({{entry.canonicalid}}) {% endif %}</h5>
                    <div class="d-flex">
                        <p class="card-subtitle mb-2 text-muted mr-auto">{% include "includes/kingdom.html" with kingdom=entry.genome.kingdom %} <b>{{entry.genome.species}}</b>{{entry.genome.strain}}</p>
                        <button type="button" class="btn btn-sm btn-default dropdown-toggle col-6 col-sm-2 mr-1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Groups</button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="#">Group 1</a>
                            <a class="dropdown-item" href="#">Group 2</a>
                            <a class="dropdown-item" href="#">Group 3</a>
                        </div>
                        <button class="btn btn-sm col-6 col-sm-2">Genome</button>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <div class="row content-container-row"> <!-- row content-container-row -->

        {% include "includes/gene_menu.html" with tab=tab %}

        <!-- tab = {{ tab }}  -->
        <!-- entry.omaid = {{ entry.omaid }}  -->
        <!-- entry.canonicalid = {{ entry.canonicalid }}  -->
        <!-- entry.canonicalid.strain = {{ entry.canonicalid.strain }}  -->

        <div class="col"> <!-- content col -->
            <!--<h2 class="">Entry {{ entry.omaid }} {% if entry.canonicalid %} ({{entry.canonicalid}}) {% endif %} </h2>
            <h4>{% include "includes/kingdom.html" with kingdom=entry.genome.kingdom %} <b>{{entry.genome.species}}</b>{{entry.genome.strain}}</h4>
            {% block seqhead_hook %}{% endblock %}
            <br>
            <ul class="nav nav-tabs" role="tablist">
                <li {% ifequal tab 'info' %} class="active" {%endifequal%} ><a href="/cgi-bin/gateway.pl?f=DisplayEntry&amp;p1={{ entry.omaid }}" >Information</a></li>
                <li {% ifequal tab 'orthologs' %} class="active" {%endifequal%} ><a href="{% url 'pairs' entry.omaid %}" >Orthologs {% if nr_vps %}<span class="badge">{{nr_vps}}</span>{% endif %}</a></li>
                {% if entry.genome.is_polyploid %}
                    <li {% ifequal tab 'homeologs' %} class="active" {%endifequal%} ><a href="/cgi-bin/gateway.pl?f=DisplayEntry&amp;p1={{ entry.omaid }}&amp;p2=homeologs" >Homeologs {% if nr_hps %}<span class="badge">{{nr_hps}}</span>{% endif %}</a></li>
                {% endif %}
                <li {% ifequal tab 'synteny' %} class="active" {%endifequal%} ><a href="{% url 'synteny' entry.omaid 4 4 %}" >Local synteny</a></li>-->

                <!-- <li {% ifequal tab 'hogs' %} class="active" {%endifequal%} ><a href="{% url 'hogs' entry.omaid %}" >Hierarchical Orthologous Groups</a></li> -->


                <!--<li {% if tab == 'hogs' %} class="dropdown active " {% else %} class="dropdown" {% endif %} >
                    <a class='left_hog_tab' href="{% url 'hog_vis' entry.omaid %}">Hierarchical Orthologous Groups  </a>

                </li>

            <li {% if tab == 'hogs' %} class="dropdown active " {% else %} class="dropdown" {% endif %} >
                    <a href="" class="dropdown-toggle right_hog_tab" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="caret"></span></a>

                <ul class="dropdown-menu">
                        <li class="dropdown-header">Visualise HOG with:</li>
                        <li class="text-left"><a href="{% url 'hog_vis' entry.omaid %}">graphical viewer</a> </li>
                        <li class="text-left"><a href="{% url 'hogs' entry.omaid %}">table viewer</a></li>
                        <li class="divider"></li>
                        <li class="dropdown-header">List similar HOGs based on:</li>
                        <li class="text-left"><a href="{% url 'hog_domains' entry.omaid %}">Domain architectures</a></li>
                    </ul>
                </li>


                <li {% ifequal tab 'groups' %} class="active" {%endifequal%} ><a href="{% url 'omagroup-entry' entry.omaid %}">OMA Groups</a></li>
            </ul>

            <div class="tab-content">
                <div class="tab-pane active" id="{{tab}}">
                    &lt;!&ndash; {% block contentTabXX %} {% endblock contentTabXX %} &ndash;&gt;
                </div>
            </div>-->


            {% block contentTab %} {% endblock contentTab %}


        </div> <!-- content col -->

    </div> <!-- row content-container-row -->

</div> <!-- .container -->
{% endblock content %}



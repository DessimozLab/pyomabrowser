{% extends  "core.html" %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block title %}Synteny dot plot viewer{% endblock %}

{% block content %}

    <link href="{% static "css/synteny_dotplot.css" %}" rel="stylesheet" type="text/css"/>

    <div class="container-fluid" >

        <div class="row">

            <div class="col-sm-12 col-md-10 col-md-offset-1">
                <div class="text-center">

                    <h1> Le dotplot</h1>

                    <div>
                        Genome of <b>{{ genome1 }} chromosome {{ chromosome1 }}</b>
                        versus
                        Genome of  <b>{{ genome2 }} chromosome {{ chromosome2 }} </b>

                    </div>

                </div>

                <div id="dotplot_container" ></div>


            </div>

        </div>

    </div>

    <!-- D3 and D3 Tooltip -->
    <script src="//d3js.org/d3.v4.min.js" type="text/javascript"></script>
    <script src="{% static "js/synteny_dotplot.js" %}" type="text/javascript"></script>

    <script>

        (function () {


            var url_json = "/All/dotplot_example.json";
            var container = "dotplot_container";

            var genome1 = "{{ genome1 }}";
            var genome2 = "{{ genome2 }}";

            var chromosome1 = "{{ chromosome1 }}";
            var chromosome2 = "{{ chromosome2 }}";

            var DotPlot = dotplot_theme();


            var correct_url = "/oma/syntenyDP/" + genome1 +"/" + genome2 +"/" + chromosome1.replace(/\s/g,"%20") + "/" + chromosome2.replace(/\s/g,"%20") + "/json/" ;

            console.log(correct_url);

            var dotplot = new DotPlot(container,url_json, genome1,genome2,chromosome1,chromosome2);

        }) ();

    </script>


{% endblock content %}








{% extends  "base_hog.html" %}
{% load staticfiles %}

{% block contentTab %}

<script src='{% static "js/tablehooks.js" %}' type="text/javascript"></script>


 <ul class="list-group list-group-flush">

  <li class="list-group-item" >

    <div class="container">
  <div class="row">
    <div class="col-2">
      <strong> HOG ID</strong>
    </div>
    <div class="col" >

     <strong>HOG profile</strong>

    </div>

  </div>
</div>


   </li>

  {% for  key, val in sim_data.items %}

   <li class="list-group-item" >

    <div class="container">
  <div class="row">
    <div class="col-2 my-auto">

        <script>   document.write(tablehooks.format_generic_group_id({{key}}, {'type':"HOG"}));  </script>


    </div>
    <div class="col  profile_vis" id="{{ key }}">

    </div>

  </div>
</div>


   </li>

  {% endfor %}

   </ul>



<!-- D3 todo dl the lib-->
<script src="https://d3js.org/d3.v5.js"></script>


<!-- Domain Visualisation -->
<script src='{% static "js/profile.js" %}' type="text/javascript"></script>

<link href='{% static "css/profile.css" %}' rel="stylesheet" type="text/css" />

{{ sim_data|json_script:"hello-data" }}
{{ taxon_region|json_script:"tax-data" }}
{{ species|json_script:"species-data" }}
{{ reference|json_script:"ref-data" }}


    <script>

     window.onload = function() {


         var value = JSON.parse(document.getElementById('hello-data').textContent);
         var value_tax = JSON.parse(JSON.parse(document.getElementById('tax-data').textContent));
         var value_sp = JSON.parse(JSON.parse(document.getElementById('species-data').textContent));
         var ref_sp = JSON.parse(JSON.parse(document.getElementById('ref-data').textContent));

     profile.visualize_all(".profile_vis", value, value_tax, value_sp, ref_sp);


};



</script>


{% endblock contentTab %}
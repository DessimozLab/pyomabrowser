{% extends  "core.html" %}
{% load staticfiles %}
{% load bootstrap3 %}

{% block title %}Matrix specifications{% endblock %}

{% block content %}

<style>

    .master-tile{
        background-color: #f8f9fa;
        padding: 30px
    }

    .section-title{
        color:#bbb;
        font-weight: bold;
        font-size: 1.2em !important;

    }

    .section-tile{
        margin-bottom:24px;
    }

    .section-box{
        background-color: #fff;
        padding: 16px;
        box-shadow: 2px 2px 1px #eee;
        border-radius: 4px;
        margin:8px;
    }

    .icon_selector{
        margin-right:8px;
        color:#555;
    }

    .text_selector{
        margin-right:8px;
        color:#555;
    }


    .number-span{margin-left:1em;}


</style>



<div class="container-fluid" >

    <div class="row">

        <div class="col-sm-12 col-md-10 col-md-offset-1 master-tile">

            <div class="section-tile">


                <p class="section-title">OMA RELEASE OF {{ rel_name }}</p>


                <div class="section-box">


                    <ul class="list-unstyled">
                        <li><b>Number of species: </b> <span class="number-span"> {{ nb_genome }}</span></li>
                        <li><b>Number of OMA groups: </b> <span class="number-span">????????</span></li>
                        <li><b>Number of proteins: </b> <span class="number-span">{{ nb_prot }}</span></li>
                        <li><b>Proteins with external links: </b> <span class="number-span"> ???? (??.? %)</span></li>
                        <li><b>Gene Ontology: </b> <span class="number-span">???????? entries in ??????? OMA groups</span></li>
                    </ul>


                </div>

            </div>

            <div class="section-tile">


                <p class="section-title">SPECIES INFORMATION


                    <button type="button" class="btn btn-default pull-right icon_selector disabled">
                        <span class="glyphicon glyphicon-tree-deciduous pull-right " aria-hidden="true"
                              data-toggle="tooltip" data-placement="top" title="view as species tree" ></span>
                    </button>

                    <button type="button" class="btn btn-default pull-right icon_selector" >
                        <span class="glyphicon glyphicon-list pull-right " aria-hidden="true"
                              data-toggle="tooltip" data-placement="top" title="view as species list" ></span>
                    </button>

                    <button type="button" class="btn btn-default pull-right icon_selector disabled" >
                        <span class="glyphicon  glyphicon-stats pull-right " aria-hidden="true"
                              data-toggle="tooltip" data-placement="top" title="view as species histogram"></span>
                    </button>

                    <span class="pull-right text_selector">Change the view: </span>

                </p>


                <div class="section-box">

                    <div class="panel panel-default">

                        <div class="panel-body">

                            <table class="table table-hover" id="genomeTable"
                                   data-show-toggle="true"
                                   data-show-columns="true" data-search="true" data-show-export="true"
                                   data-pagination="true" data-page-size="10" data-page-list="[10, 25, 50, 100, All]"
                                   data-mobile-responsive="true" data-check-on-init="true"
                                   data-undefined-text=""
                                   data-id-field="code" data-row-attributes="tablehooks.add_proteinrow_attrs"
                                   data-url="{% url 'genomes_json' %}">
                                    <thead>
                                        <tr>
                                            <th data-field="uniprot_species_code" data-sortable="true" data-filter-control="select">Code</th>
                                            <th data-field="sciname" data-sortable="true" data-filter-control="select">Scientific Name</th>
                                            <th data-field="prots" data-sortable="true" data-filter-control="select"># of Sequences</th>
                                            <th data-field="ncbi" data-sortable="true" data-filter-control="select">NCBI TaxonId</th>
                                        </tr>
                                    </thead>
                                </table>


                            </table>

                        </div>
                    </div>

                </div>

            </div>


        </div>

    </div>

</div>

<!-- D3 and D3 Tooltip -->
<script src="{% static "js/d3.v3.min.js" %}" type="text/javascript"></script>
<script src="{% static "js/d3.tip.v0.6.3.js" %}" type="text/javascript"></script>

<!-- Domain Visualisation -->
<script src="{% static "js/domains_vis.js" %}" type="text/javascript"></script>
<link href="{% static "css/domains_vis.css" %}" rel="stylesheet" type="text/css"/>

    <!-- bootstrap-table -->
    <script src="{% static "js/tablehooks.js" %}" type="text/javascript"></script>
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/bootstrap-table.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/extensions/export/bootstrap-table-export.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.0/extensions/mobile/bootstrap-table-mobile.min.js"></script>
<script src="{% static "js/tableExport.min.js" %}"></script>

<!-- activate tooltip -->
<script>
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
})
</script>

<!-- table settings -->
<script>
    var tab = $("#genomeTable");
    tab.bootstrapTable({
        reorderableColumns: true,
        clickToSelect: false,
        filterControl: false,
        showMultiSort: true,
    });
    var icons = tab.bootstrapTable('getOptions').icons;
    $.extend(icons, {export: 'glyphicon-download-alt', columns: 'glyphicon-list'});
    tab.bootstrapTable('refreshOptions', {'icons': icons});
</script>

{% endblock content %}
